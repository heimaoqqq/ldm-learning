# VAE-LDM Kaggleè®­ç»ƒé…ç½®
# ğŸ¯ é€‚é…P100 GPUçš„èµ„æºé™åˆ¶

# ================== ğŸ“ è·¯å¾„é…ç½® ==================
paths:
  vae_checkpoint: '/kaggle/input/vae-best-fid/adv_vqvae_best_fid.pth'  # VAEé¢„è®­ç»ƒæƒé‡
  data_dir: '/kaggle/input/dataset'                       # æ•°æ®é›†è·¯å¾„
  save_dir: '/kaggle/working/checkpoints'                 # æ¨¡å‹ä¿å­˜è·¯å¾„

# ================== ğŸ›ï¸ æ¨¡å‹é…ç½® ==================
model:
  num_classes: 31           # å¾®å¤šæ™®å‹’ä¿¡å·ç±»åˆ«æ•°
  image_size: 32           # VAEæ½œåœ¨ç©ºé—´åˆ†è¾¨ç‡ (32Ã—32) 
  diffusion_steps: 1000    # æ‰©æ•£æ­¥æ•°
  noise_schedule: "cosine" # å™ªå£°è°ƒåº¦ [linear, cosine]

# ================== ğŸƒ è®­ç»ƒé…ç½® ==================
training:
  # P100ä¼˜åŒ–é…ç½®
  batch_size: 4                    # åŸºç¡€batch size
  gradient_accumulation_steps: 2   # æ¢¯åº¦ç´¯ç§¯ (æœ‰æ•ˆbatch = 4Ã—2 = 8)
  learning_rate: 0.0001              # å­¦ä¹ ç‡
  weight_decay: 0.01               # æƒé‡è¡°å‡
  max_epochs: 300                  # æœ€å¤§è®­ç»ƒè½®æ•° - ä¿®æ”¹ä¸º300
  
  # ä¿å­˜å’Œæ—¥å¿—é…ç½®
  log_interval: 10          # æ—¥å¿—è®°å½•é—´éš” (steps)
  save_interval_epochs: 30  # æ¨¡å‹ä¿å­˜é—´éš” (epochs) - æ¯30ä¸ªepochä¿å­˜ä¸€æ¬¡
  eval_interval: 15         # FIDè¯„ä¼°é—´éš” (epochs) - æ¯15ä¸ªepochè¯„ä¼°ä¸€æ¬¡
  
  # Kaggleæ—¶é—´é™åˆ¶ä¼˜åŒ–
  enable_wandb: false       # ç¦ç”¨wandb (Kaggleç¯å¢ƒ)
  num_workers: 2           # æ•°æ®åŠ è½½å™¨å·¥ä½œè¿›ç¨‹æ•°

# ================== ğŸ“Š è¯„ä¼°é…ç½® ==================
evaluation:
  # FIDè¯„ä¼°ä¼˜åŒ– (å‡å°‘è®¡ç®—æ—¶é—´)
  eval_classes: 3           # è¯„ä¼°çš„ç±»åˆ«æ•° (éšæœºé€‰æ‹©)
  samples_per_class: 50     # æ¯ç±»ç”Ÿæˆæ ·æœ¬æ•°
  ddim_steps: 50           # DDIMé‡‡æ ·æ­¥æ•° (æ¨ç†æ—¶)
  eta: 0.0                 # DDIMéšæœºæ€§å‚æ•°
  max_real_samples: 800    # çœŸå®æ•°æ®æœ€å¤§æ ·æœ¬æ•°

# ================== ğŸ® GPUä¼˜åŒ–é…ç½® ==================
gpu:
  device: 'cuda'           # è®¾å¤‡
  mixed_precision: false   # æ··åˆç²¾åº¦ (P100ä¸æ”¯æŒ)
  gradient_clip: 1.0       # æ¢¯åº¦è£å‰ª

# ================== ğŸ¨ é‡‡æ ·é…ç½® ==================
sampling:
  guidance_scale: 1.0      # åˆ†ç±»å™¨è‡ªç”±å¼•å¯¼å¼ºåº¦
  use_ddim: true          # ä½¿ç”¨DDIMé‡‡æ ·
  num_inference_steps: 50  # æ¨ç†æ­¥æ•°

# ================== ğŸ“ å®éªŒè®°å½• ==================
experiment:
  name: "VAE-LDM-Kaggle"   # å®éªŒåç§°
  description: "åŸºäºimproved-diffusionçš„VAEæ½œåœ¨æ‰©æ•£æ¨¡å‹ - Kaggle P100ä¼˜åŒ–ç‰ˆ"
  version: "v1.0"
  
# ================== ğŸ”§ è°ƒè¯•é…ç½® ==================
debug:
  verbose: true            # è¯¦ç»†è¾“å‡º
  save_samples: true       # ä¿å­˜ç”Ÿæˆæ ·æœ¬
  profile: false          # æ€§èƒ½åˆ†æ (è°ƒè¯•ç”¨) 
